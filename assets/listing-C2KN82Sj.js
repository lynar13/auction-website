import{f as i}from"./cachedFetch-OvMXQHTG.js";import{h as n,b as c,c as h,d}from"./app-vh6XL3P4.js";async function m(t){const s="https://v2.api.noroff.dev/auction/listings";try{const r=n(!0),e=await fetch(s,{method:"POST",headers:r,body:JSON.stringify(t)});if(!e.ok){const a=await e.json();throw console.error("Error response from server:",a.errors||a.message),new Error(a.errors?.[0]?.message||"Failed to create listing")}return await e.json()}catch(r){throw console.error("Error creating listing:",r.message),r}}async function p(t){if(!t)throw new Error("Invalid listing ID");const s=c(t);try{return await i(s,{method:"GET",headers:n(!0)})}catch(r){throw console.error("Error fetching listing:",r.message),r}}async function w(t,s){try{const r=await fetch(c(t),{method:"PUT",headers:n(!0,!0),body:JSON.stringify(s)});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to update listing")}return await r.json()}catch(r){throw console.error("Error updating listing:",r.message),new Error("Failed to update listing: "+r.message)}}async function u(t=1,s=12,r="",e=""){const a=new URLSearchParams({_page:t,_limit:s});r&&a.append("q",r),e&&a.append("_sort",e);const g=r?`${h}?${a.toString()}`:`${d}?${a.toString()}`;try{const o=await i(g,{method:"GET",headers:n(!0)});return o.data||o}catch(o){throw console.error("Error fetching listings:",o.message),o}}export{u as a,m as c,p as r,w as u};
