import{h as n,b as c,c as h,d as l}from"./app-VEMx_aQh.js";async function w(t){const o="https://v2.api.noroff.dev/auction/listings";try{const r=n(!0),e=await fetch(o,{method:"POST",headers:r,body:JSON.stringify(t)});if(!e.ok){const s=await e.json();throw console.error("Error response from server:",s.errors||s.message),new Error(s.errors?.[0]?.message||"Failed to create listing")}return await e.json()}catch(r){throw console.error("Error creating listing:",r.message),r}}async function f(t){if(!t)throw new Error("Invalid listing ID");const o=c(t);try{const r=await fetch(o,{method:"GET",headers:n(!0)});if(!r.ok){const e=await r.json();throw console.error("API Error:",e.message||"Failed to fetch listing"),new Error(e.message||"Failed to fetch listing")}return await r.json()}catch(r){throw console.error("Error fetching listing:",r.message),r}}async function m(t,o){try{const r=await fetch(c(t),{method:"PUT",headers:n(!0,!0),body:JSON.stringify(o)});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to update listing")}return await r.json()}catch(r){throw console.error("Error updating listing:",r.message),new Error("Failed to update listing: "+r.message)}}async function p(t=1,o=12,r="",e=""){const s=new URLSearchParams({_page:t,_limit:o});r&&s.append("q",r),e&&s.append("_sort",e);const g=r?`${h}?${s.toString()}`:`${l}?${s.toString()}`;try{const a=await fetch(g,{method:"GET",headers:n(!0)}),i=await a.json();if(!a.ok)throw new Error(i.message||"Failed to fetch listings");return i.data||i}catch(a){throw console.error("Error fetching listings:",a.message),new Error("Failed to fetch listings: "+a.message)}}export{p as a,w as c,f as r,m as u};
